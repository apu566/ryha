from selenium import webdriver
import time
from selenium.webdriver.common.keys import Keys
from selenium.webdriver.common.by import By
from selenium.webdriver.chrome.service import Service
from selenium.webdriver.firefox.options import Options
from selenium.webdriver.common.desired_capabilities import DesiredCapabilities
from selenium.webdriver.support import expected_conditions as EC
from selenium.webdriver.support.ui import WebDriverWait





ser = Service("E:\word document\python\zillow\chromedriver.exe")
caps = DesiredCapabilities().CHROME
#caps["pageLoadStrategy"] = "normal"  #  complete
caps["pageLoadStrategy"] = "eager"  #  interactive
#caps["pageLoadStrategy"] = "none"
driver = webdriver.Chrome(desired_capabilities=caps, service=ser)
#driver = webdriver.Chrome(service=ser, options=op)

#options = Options()
#options.binary_location = r'C:\Program Files\Mozilla Firefox\firefox.exe'

#ser = Service("E:\word document\python\zillow\geckodriver.exe")
#op = webdriver.FirefoxOptions()


#d_p= "E:\word document\python\zillow\chromedriver.exe"
data_list = []
#driver = webdriver.Firefox(service=ser, options=options)



url = "https://www.zillow.com/homedetails/2142-Saint-James-Ave-APT-3-Cincinnati-OH-45206/2068777097_zpid/"
links = ['1305 62nd St, Sacramento, CA 95819', '4221 J St #4223-J, Sacramento, CA 95819', 'Address Not Disclosed, Sacramento, CA 95820', '4219 51st St, Sacramento, CA 95820', '7021 Fruitridge Rd, Sacramento, CA 95820', '2978-2996 26th Avenue, Sacramento, CA 95820', '4000 San Carlos Way #A, Sacramento, CA 95820', '4000 San Carlos Way, Sacramento, CA 95820', 'Cypress Village Apartments, Sacramento, CA 95821', 'El Camino Duplexes Apartments, Sacramento, CA 95821', 'Oak Garden Apartments, Sacramento, CA 95821', 'Kensington Park Apartments, Sacramento, CA 95821', 'The Harlow Apartments, Sacramento, CA 95821', 'Regalia Crest Apartments, Sacramento, CA 95821', 'Arcadia Whitney Apartments, Sacramento, CA 95821', '1 bed, $1,300, Sacramento, CA 95822', '7443 Poirier Way, Sacramento, CA 95822', '5989 Lake Crest Way #28, Sacramento, CA 95822', 'Address Not Disclosed, Sacramento, CA 95822', '5994 Lake Crest Way Apartments, Sacramento, CA 95822', '5971 Lake Crest Way Apartments, Sacramento, CA 95822', 'Willow Glen Apartments, Sacramento, CA 95823', 'Pine Manor Apartments, Sacramento, CA 95823', '6500 47th St #3, Sacramento, CA 95823', '7408 Franklin Blvd #1, Sacramento, CA 95823', 'Greenridge Apartments, Sacramento, CA 95824', '5760 Nina Way #12, Sacramento, CA 95824', '5644 Odea Dr #4, Sacramento, CA 95824', '2 bed, 750 sqft, $1,595, Sacramento, CA 95824', '1 bed, 625 sqft, $1,395, Sacramento, CA 95824', 'Morse Plaza Apartments, Sacramento, CA 95825', 'The Chloe Apartments, Sacramento, CA 95825', 'Ardendale Apartments, Sacramento, CA 95825', 'The Luxe Apartments, Sacramento, CA 95825', 'THE ASPIRE SACRAMENTO Apartments, Sacramento, CA 95825', 'Willow Grove Apartments, Sacramento, CA 95825', 'Liv1621 Apartments, Sacramento, CA 95825', 'MONTECITO VILLAS Apartments, Sacramento, CA 95825', 'Hacienda Apartments, Sacramento, CA 95825', 'Markston Apartments, Sacramento, CA 95825', 'Plumwood Apartments, Sacramento, CA 95825', 'Arden Bell Apartments, Sacramento, CA 95825', 'Sierra Lofts, Sacramento, CA 95825', '2 bed, $1,295, Sacramento, CA 95825', '2343 Ramon Dr, Sacramento, CA 95825', '1414 Hesket Way, Sacramento, CA 95825', '1015 Clinton Rd, Sacramento, CA 95825', 'Address Not Disclosed, Sacramento, CA 95825', '1051 Fulton Ave #152, Sacramento, CA 95825', '2120 Winafred St, Sacramento, CA 95825', '1932 Ethan Way #10, Sacramento, CA 95825', '1957 Wright St, Sacramento, CA 95825', '941 Fulton Ave #511, Sacramento, CA 95825', '545 Woodside Oaks #2, Sacramento, CA 95825', '2454 Larkspur Ln #330, Sacramento, CA 95825', '521 Woodside Oaks, Sacramento, CA 95825', 'La Provence Apartments, Sacramento, CA 95825', 'Kensington House Apartments, Sacramento, CA 95825', '2430 Pavilions Place Ln #303, Sacramento, CA 95825', '2501 Villa Terrace Ln, Sacramento, CA 95825', '1321 Howe Ave #210, Sacramento, CA 95825', 'The Phoenix Apartments, Sacramento, CA 95826', 'VivLeo Apartments, Sacramento, CA 95826', 'Rivercrest Apartments, Sacramento, CA 95826', 'Phoenix Sacramento Apartments, Sacramento, CA 95826', 'Evergreen Park Apartments, Sacramento, CA 95826', 'Monte Bello Apartments, Sacramento, CA 95826', '8879 Salmon Falls Dr #E, Sacramento, CA 95826', '9032 Montoya St #3, Sacramento, CA 95826', 'Arbor Pointe Apartments, Sacramento, CA 95827', 'Quail Pointe Apartments, Sacramento, CA 95827', '3301 Cahill Ct, Sacramento, CA 95827', 'Ellenwood Commons, Sacramento, CA 95827', 'Sierra Court Apartments, Sacramento, CA 95828', 'Courtyard Cottages Apartments, Sacramento, CA 95828', 'Country Glen Apartments, Sacramento, CA 95828', '7463 53rd Ave, Sacramento, CA 95828', '8215 Cliffe Way, Sacramento, CA 95828', '6916 Fleming Ave #B, Sacramento, CA 95828', 'Rivergate Apartments, Sacramento, CA 95831', 'Riverfront Apartment Homes, Sacramento, CA 95831', "Water's Edge Apartments, Sacramento, CA 95831", 'Southwood Townhomes, Sacramento, CA 95831', 'Broadleaf Apartments, Sacramento, CA 95831', 'Rush River Apartments, Sacramento, CA 95831', '7379 Durfee Way, Sacramento, CA 95831', '6241 Riverside Blvd #108, Sacramento, CA 95831', '6140 Gloria Dr #8, Sacramento, CA 95831', '6220 Gloria Dr #10, Sacramento, CA 95831', 'Adagio Apartment Homes, Sacramento, CA 95833', 'Address Not Disclosed, Sacramento, CA 95833', '2630 San Juan Rd, Sacramento, CA 95833', '300 Del Verde Cir #2, Sacramento, CA 95833', '2280 Sandcastle Way, Sacramento, CA 95833', 'Woodlands Apartments, Sacramento, CA 95833', '2793 Mendel Way, Sacramento, CA 95833', '3310 Apartment Homes, Sacramento, CA 95834', 'Granite Point Apartments, Sacramento, CA 95834', 'Avanti Apartments, Sacramento, CA 95834', '3220 Leona Cir, Sacramento, CA 95834', 'Address Not Disclosed, Sacramento, CA 95834', '4200 E Commerce Way #211, Sacramento, CA 95834', '4059 Innovator Dr #6103, Sacramento, CA 95834', '4000 Innovator Dr #28101, Sacramento, CA 95834', '250 Penhow Cir, Sacramento, CA 95834', 'Laurel Oaks Apartments, Sacramento, CA 95834', '7 Pewter Ct, Sacramento, CA 95834', '4036 Beechcraft Way, Sacramento, CA 95834', 'Carefree North Natomas Senior Apartments, Sacramento, CA 95835', 'Homecoming At Creekside Apartments, Sacramento, CA 95835', 'Miramonte and Trovas Apartments, Sacramento, CA 95835', 'Address Not Disclosed, Sacramento, CA 95835', '5433 Noyack Way, Sacramento, CA 95835', '4800 Westlake Pkwy #1308, Sacramento, CA 95835', '3301 N Park Dr #3712, Sacramento, CA 95835', '3301 N Park Dr #1014, Sacramento, CA 95835', '4800 Westlake Pkwy #802, Sacramento, CA 95835', '5350 Dunlay Dr #1816, Sacramento, CA 95835', '2466 Autumn Meadow Ave, Sacramento, CA 95835', '330 Wapello Cir, Sacramento, CA 95835', '3901 Stanwick Ave, Sacramento, CA 95835', '5301 E Commerce Way #1102, Sacramento, CA 95835', '4007 Lofgren Ave, Sacramento, CA 95835', '3566 Nuestra Ave, Sacramento, CA 95835', '1501 Mayfield St, Sacramento, CA 95835', '2001 Club Center Dr #1135, Sacramento, CA 95835', '4800 Carey Rd, Sacramento, CA 95835', '230 Sugnet Way, Sacramento, CA 95838', '310 Fairbanks Ave #4, Sacramento, CA 95838', '1405 Nogales St, Sacramento, CA 95838', '1719 Grand Ave, Sacramento, CA 95838', '82 Bell Ave, Sacramento, CA 95838', 'Garfield Court Apartments, Sacramento, CA 95841', '5420 Calistoga Way, Sacramento, CA 95841', '4801 Orange Grove Ave #4, Sacramento, CA 95841', '5802 Shadow Creek Dr #4, Sacramento, CA 95841', '5840 Peppermill Ct #4, Sacramento, CA 95841', 'Pepperwood Knoll Apartments, Sacramento, CA 95842', 'Cambridge Park Apartments, Sacramento, CA 95842', 'Fountain Grove Apartments, Sacramento, CA 95842', '4530 Ruskin Ct, Sacramento, CA 95842', '5821 Longs Peak Pl, Sacramento, CA 95842', 'Spring Meadows Apartments, Antelope, CA 95843', 'The Arbors at Antelope Apartments, Antelope, CA 95843', 'The Legacy Apartments, Antelope, CA 95843', 'Antelope Ridge Apartments, Antelope, CA 95843', 'Azure Apartments, Antelope, CA 95843', '8020 Walerga Rd #1094, Antelope, CA 95843', '8434 Walerga Rd #228, Antelope, CA 95843', 'Address Not Disclosed, Antelope, CA 95843', 'Country Club Plaza Apartments, Sacramento, CA 95864', '1108 Evelyn Ln #A, Sacramento, CA 95864', '795 Stillwater Rd, West Sacramento, CA 95605', '2810 Gateway Oaks Dr, Sacramento, CA 95833', '1123 18th St, Sacramento, CA 95811', '519 T St, Sacramento, CA 95811', '1715 R St Ste 120, Sacramento, CA 95811', '500 Garden St, West Sacramento, CA 95691', 'West Sacramento, CA 95605', '1714 21st St, Sacramento, CA 95811', '1228 N Street, Sacramento, CA 95814', '2709 Sacramento #2725 1-8, CA 95818', '2705 Orchard Ln, Sacramento, CA 95833', '396 Midstream Ln, West Sacramento, CA 95605', '1626 West Sacramento, CA 95691', '500 N St, Sacramento, CA 95814', '501 Michigan Blvd, West Sacramento, CA 95691', '1616 Q St, Sacramento, CA 95811', '318 12th St, Sacramento, CA 95814', '1040 Millet Way, Sacramento, CA 95834', '200 P St, Sacramento, CA 95814', '1715 T St, Sacramento, CA 95811', '1921 21st St, Sacramento, CA 95811', '1905 21st St, Sacramento, CA 95811', '2116 10th St, Sacramento, CA 95818', '1235 T St, Sacramento, CA 95811', '300 Del Verde Cir, Sacramento, CA 95833', '1409 T St # 1411, Sacramento, CA 95811', '3419 Loggerhead Way, Sacramento, CA 95834', '1720 N St, Sacramento, CA 95811', '110 Luna Grande Cir, Sacramento, CA 95834', 'Cummins Way #4, West Sacramento, CA 95605', '111 6th St # 113, West Sacramento, CA 95605', 'Sacramento, CA 95818', '1818 L St, Sacramento, CA 95811', '1126 T St, Sacramento, CA 95811', '1317 G Street, Sacramento, CA 95814', '1905 1/2 16th St, Sacramento, CA 95811', '1306 Q St # 1312, Sacramento, CA 95811', '1323 G Street, Sacramento, CA 95814', 'Sacramento #1818 &amp; 1820 T Street, CA 95811', '2114 16th Street #C-1, Sacramento, CA 95818, US', '3825 Rosin Ct, Sacramento, CA 95834', '10721 White Rock Rd, Rancho Cordova, CA 95670', '2100 Harvard St, Sacramento, CA 95815', '3902 Annadale Ln, Sacramento, CA 95821', '4412 Norwood Ave, Sacramento, CA 95838', '3821 Marconi Avenue, Sacramento, CA 95821, US', '2400 Sierra Blvd, Sacramento, CA 95825', '2511 Fulton Square Ln, Sacramento, CA 95821', '6601 Folsom Blvd, Sacramento, CA 95819', '2512 Edison Ave, Sacramento, CA 95821', '5914 Stanley Ave # 5920, Carmichael, CA 95608', '1930 Wright St, Sacramento, CA 95825', '2522 Sacramento, CA 95816', '4731 Whitney Ave, Carmichael, CA 95608', '4789 Manzanita Ave, Carmichael, CA 95608', '8200 Fair Oaks Blvd, Carmichael, CA 95608', '2951 Calderwood Ln, Sacramento, CA 95821', '9012 Casals St, Sacramento, CA 95826', '1741 Wright St # 1743, Sacramento, CA 95825', '2201 Howe Ave, Sacramento, CA 95825', '3430 Freedom Park Dr, North Highlands, CA 95660', '1325 65th St, Sacramento, CA 95819', '4901 Travertine Cir, Sacramento, CA 95841', '811 Folsom, CA 95630', '1309 Edmonton Ave Apt 3, Roseville, CA 95661', 'Sacramento, CA 95816', '4612 Crombie Ct, Granite Bay, CA 95746', '2330 Imran Dr # 2332, Sacramento, CA 95825', '1981 Benita Dr, Rancho Cordova, CA 95670', '4968 Summerwood Cir # 4970, Sacramento, CA 95841', '2590 Capitales Dr, Rancho Cordova, CA 95670', '10774 Portico Cir, Rancho Cordova, CA 95670', '5891 Silkwood Way, Granite Bay, CA 95746', '2400 Q St, Sacramento, CA 95816', '5241 Marconi Ave, Carmichael, CA 95608', '7400 Willowcreek Dr, Citrus Heights, CA 95610', 'Citrus Heights, CA 95610', '2649 2nd Ave, Sacramento, CA 95818', '5191 Sacramento, CA 95819', '1100 39th St, Sacramento, CA 95816', 'Dewey Dr &amp; Madison Ave, Fair Oaks, CA 95628', '2300 G St # 2306, Sacramento, CA 95816', '211 Ravenwood Ct, Granite Bay, CA 95746', '6419 Rushmore Drive, Sacramento, CA 95842, US', '1005 Lochbrae Rd # 1013, Sacramento, CA 95815', '7329 Gail Way, Fair Oaks, CA 95628', 'North Highlands, CA 95660', '8168 1/2 Winding Way, Fair Oaks, CA 95628', '2763 Larkspur Lane, Sacramento, CA 95864', 'Sacramento #24, CA 95816', 'Landmark Place, Antelope, CA 95843', '2421 Marconi Ave, Sacramento, CA 95821', '4701 College Oak Dr, Sacramento, CA 95841', '6608 Gold Run Avenue #6608, Sacramento, CA 95842', '2740 Central Ave #Roseville Ca, Roseville, CA 95747', '965 Wilson Blvd, El Dorado Hills, CA 95762', '931 Bracken Ct, El Dorado Hills, CA 95762', '2675 La Crescenta Dr, Cameron Park, CA 95682', '3025 Village Center Dr, El Dorado Hills, CA 95762', '2701 La Crescenta Dr, Cameron Park, CA 95682', '2781 Montebello Way, Cameron Park, CA 95682', '667 Lincoln Court El Dorado Hills CA 95762', '5015 Estero Way, El Dorado Hills, CA 95762', '8054 Murcia Way, El Dorado Hills, CA 95762', '3394 Greenview Dr, El Dorado Hills, CA 95762', '1026 Pacifico Ln, El Dorado Hills, CA 95762', '2791 Giorno Way, El Dorado Hills, CA 95762', '132 Teakwood Ct, El Dorado Hills, CA 95762', '1161 Oak Tree Cir, El Dorado Hills, CA 95762', '2529 Cameron Park, CA 95682', 'Folsom, CA 95630', '5095 Mertola Dr, El Dorado Hills, CA 95762', '37 Dean Way, Folsom, CA 95630', '2278 Railway Cir, Gold River, CA 95670', '39 Dean Way, Folsom, CA 95630', '885 Halidon Way, Folsom, CA 95630', '4260 Arenzano Way, El Dorado Hills, CA 95762', '6201 W Oaks Blvd, Rocklin, CA 95765', '1000 Lead Hill Blvd, Roseville, CA 95678', '1298 Antelope Creek Drive, Roseville, CA 95678', 'Roseville, CA 95678', '150 Foresthill Ave # 170, Auburn, CA 95603', '76 Crystalwood Cir, Lincoln, CA 95648', '47 Villa Gardens Ct, Roseville, CA 95678', '154 Racetrack St, Auburn, CA 95603', '656 Shasta Oaks Cir, Roseville, CA 95678', '505 4th St, Wheatland, CA 95692', '3080 Sky Watch Dr, Roseville, CA 95747', '3858 Northpark Pl, Auburn, CA 95602', 'Roseville, CA 95747', '144 Duranta St, Roseville, CA 95678', '10001 Woodcreek Oaks Blvd, Roseville, CA 95747', '850 Shearer St, Roseville, CA 95678', '172 Orange St, Auburn, CA 95603', '6000 Roseville, CA', '3663 Park Drive #1, Auburn, CA 95602, US', '209 Sharon Way # 211, Roseville, CA 95678', '1312 Callison Way, Plumas Lake, CA 95961, US', '1703 Brookglen Dr, Olivehurst, CA 95961', '2096 Roseville, CA 95747', '13021 Lincoln Way, Auburn, CA 95603', '1049 Lenader Ct, Roseville, CA 95747', '110 Elm St, Roseville, CA 95678', '5312 Roseville, CA 95747', '1657 Stone Way, Auburn, CA 95603', '501 Gibson Dr, Roseville, CA 95678', '6491 Horseshoe Bar Rd, Loomis, CA 95650', '4508 Gray Lodge Loop, Rocklin, CA 95677', '12100 Persimmon Ter, Auburn, CA 95603', '217 Brook Rd, Auburn, CA 95603', 'California Ave &amp; Landis Ave, Carmichael, CA 95608', '4327 Wickford Way, Mather, CA 95655', '4601 Blackrock Dr, Sacramento, CA 95835', '150 Lincoln Ave, Woodland, CA 95695', '575 Matmor Rd, Woodland, CA 95776', '3301 N Park Dr, Sacramento, CA 95835', '1336 Van Buren Pl, Woodland, CA 95776', '1900 Danbrook Dr, Sacramento, CA 95835', '740 W Lincoln Ave, Woodland, CA 95695', '125 College St, Woodland, CA 95695', '2001 Club Center Dr, Sacramento, CA 95835', '1367 Garfield Pl, Woodland, CA 95776', '4400 Truxel Road, Sacramento, CA 95834', '984 Nelson Way, Woodland, CA 95776', '1409 Hammond Drive, Woodland, CA 95776', '2304 Murphey Dr #Woodland Ca, Woodland, CA 95776', 'Sacramento, CA 95834', '4277 Larson St, Olivehurst, CA 95961', '901 Lincoln Rd #8, Yuba City, CA 95991', '4674 Fleming Way, Olivehurst, CA 95961', '1205 E 22nd St, Marysville, CA 95901', '375 McRae Way, Yuba City, CA 95991', '1341 Dustin Dr, Yuba City, CA 95993', '1766 Linda Ave, Marysville, CA 95901', '1420 F St, Davis, CA 95616', '2201 Longport Ct, Elk Grove, CA 95758', '1660 Drew Cir, Davis, CA 95618', 'Yuba City, CA 95991', '531 Yuba City, CA 95991', '5547 Barwick Ct, Linda, CA 95901', '1715 Marysville, CA 95901', '10442 Coloma Rd, Rancho Cordova, CA 95670', '2011 E Street, Sacramento, CA 95811', '9032 Montoya St, Sacramento, CA 95826', '2311 Laramie Ln # 2315, Sacramento, CA 95815', '3971 E Pacific Ave # 3981, Sacramento, CA 95820', '2978 26th Ave # 2996, Sacramento, CA 95820', '2350 Sacramento, CA 95822', '5981 Lake Crest Way # 5989, Sacramento, CA 95822', '7000 East Pkwy # 7006, Sacramento, CA 95823', '7475 Stockton Blvd, Sacramento, CA 95823', '9130 Nolan St, Elk Grove, CA 95758', '8117 Sheldon Rd, Elk Grove, CA 95758', '7644 Prescott Way, Sacramento, CA 95823', '8901 Brecon Way, Elk Grove, CA 95624', '8674 Argus Ct, Elk Grove, CA 95624', '4713 Flox Way, Elk Grove, CA 95758', '3677 Grand Point Ln, Elk Grove, CA 95758', '8555 Blue Maiden Way, Elk Grove, CA 95624', '8132 Drais Way, Elk Grove, CA 95624', '9026 Descendant Dr, Elk Grove, CA 95758', '6650 Sunset Bluffs St, Elk Grove CA 95758', '9278 Lucchesi Dr, Sacramento, CA 95829', '7904 Sacramento, CA 95828', '9456 Acapulco Way, Elk Grove, CA 95624', '8340 Lake Willow Way, Elk Grove, CA 95758', '9662 Gage St, Elk Grove, CA 95624', '9574 Dominion Wood Ln, Elk Grove, CA 95758', '8699 Quiet Dawn Ct, Elk Grove, CA 95624', '9741 Tundra Swan Cir, Elk Grove, CA 95757', '9123 Splendido Way, Elk Grove, CA 95758', '3650 Tallyho Drive, Sacramento, CA 95826', '6815 24th St, Sacramento, CA 95822', '9320 Willow Pond Circle, Elk Grove, CA 95624, US', '10020 Teddington Way, Elk Grove, CA 95624', '6241 Riverside Blvd, Sacramento, CA 95831', '981 Sacramento, CA 95831', '10770 E Taron Dr, Elk Grove, CA 95757', '6312 Livorno Way, Elk Grove, CA 95757']

#
hj = "https://www.redfin.com/CA/Carmichael/3928-Apple-Blossom-Way-95608/unit-3930/home/19160240"


driver.get(hj)
time.sleep(20)
for li in links:
    driver.get(hj)
    try:
        bar = WebDriverWait(driver, 10).until(EC.element_to_be_clickable(
            (By.XPATH, "/html/body/div[1]/div[4]/div/div/header[2]/div[1]/div[2]/div/form/div[1]/div/input")))

        bar.send_keys(li)
        bar.send_keys(Keys.ENTER)
        time.sleep(2)
        data_valid = driver.current_url
    except:
        data_valid = "None"
    print(data_valid)

    a = open("new.txt", "a", encoding="utf-8")
    a.write(data_valid)

    a.write("\n")
    a.close()







driver.close()

